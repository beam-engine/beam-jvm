{
  "Name":"FinalOffer",
  "Description":"Final Offer Workflow",
  "InitState":"PAppForm",
  "Async":true,
  "States":{
    "PAppForm":{
      "Type":"Task",
      "Next":"PAppFormCondition",
      "End":false
    },
    "PAppFormCondition":{
      "Type":"Condition",
      "End":false,
      "Conditions":[
        {
          "Simple":[
            {
              "Variable":"appFormPostSuccess",
              "MatchType":"StringEquals",
              "MatchValue":"true"
            }
          ],
          "Next":"PCreditPolicy"
        },
        {
          "Simple":[
            {
              "Variable":"appFormPostSuccess",
              "MatchType":"StringEquals",
              "MatchValue":"false"
            }
          ],
          "Next":"PSendCallback"
        }
      ]
    },
    "PCreditPolicy":{
      "Type":"Task",
      "Next":"PCreditPolicyCheckCondition",
      "End":false
    },
    "PCreditPolicyCheckCondition":{
      "Type":"Condition",
      "End":false,
      "Conditions":[
        {
          "Simple":[
            {
              "Variable":"creditPolicyStatus",
              "MatchType":"StringEquals",
              "MatchValue":"success"
            }
          ],
          "Next":"Parallel"
        },
        {
          "Simple":[
            {
              "Variable":"creditPolicyStatus",
              "MatchType":"StringEquals",
              "MatchValue":"failure"
            }
          ],
          "Next":"PSendCallback"
        }
      ]
    },
    "Parallel":{
      "Type":"Parallel",
      "Branches":[
        {
          "InitState":"PFraudCheck",
          "Name":"Fraud Check",
          "States":{
            "PFraudCheck":{
              "Type":"Task",
              "Next":"PFraudCheckCondition",
              "End":false
            },
            "PFraudCheckCondition":{
              "Type":"Condition",
              "End":false,
              "Conditions":[
                {
                  "Simple":[
                    {
                      "Variable":"fraduCheckSuccess",
                      "MatchType":"StringEquals",
                      "MatchValue":"true"
                    }
                  ],
                  "Next":"PFraudWait"
                }
              ]
            },
            "PFraudWait":{
              "Type":"Wait",
              "Next":null,
              "End":true
            }
          }
        },
        {
          "InitState":"PBureau",
          "Name":"BureauCheck",
          "States":{
            "PBureau":{
              "Type":"Task",
              "Next":"PBureauCondition",
              "End":false
            },
            "PBureauCondition":{
              "Type":"Condition",
              "End":false,
              "Conditions":[
                {
                  "Simple":[
                    {
                      "Variable":"bureauSuccess",
                      "MatchType":"StringEquals",
                      "MatchValue":"true"
                    }
                  ],
                  "Next":"PBureauWait"
                }
              ]
            },
            "PBureauWait":{
              "Type":"Wait",
              "Next":null,
              "End":true
            }
          }
        }
      ],
      "Next":"PSendCallback",
      "End":false
    },
    "PSendCallback":{
      "Type":"Task",
      "Next":null,
      "End":true
    }
  }
}